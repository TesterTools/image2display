<UserControl
    x:Class="Image2Display.Views.ImageProcessingView"
    xmlns="https://github.com/avaloniaui"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:ui="using:FluentAvalonia.UI.Controls"
    xmlns:uip="using:FluentAvalonia.UI.Controls.Primitives"
    xmlns:vm="using:Image2Display.ViewModels"
    d:DesignHeight="660"
    d:DesignWidth="800"
    x:CompileBindings="True"
    x:DataType="vm:ImageProcessingViewModel"
    mc:Ignorable="d">
    <Grid RowDefinitions="3*,5,4*">
        <!--  分割线  -->
        <GridSplitter Grid.Row="1" ToolTip.Tip="调整上下部分宽度" />
        <!--  图片框  -->
        <Grid Grid.Row="0" Background="{StaticResource CheckerBoardBrush}">
            <!--  一堆按钮  -->
            <StackPanel
                Margin="10"
                HorizontalAlignment="Right"
                VerticalAlignment="Bottom"
                Orientation="Vertical">
                <Button
                    Width="40"
                    Height="40"
                    Margin="0,10,0,0"
                    Padding="0"
                    ToolTip.Tip="按住对比图片">
                    <ui:SymbolIcon FontSize="20" Symbol="Switch" />
                </Button>
                <Button
                    Width="40"
                    Height="40"
                    Margin="0,10,0,0"
                    Padding="0"
                    ToolTip.Tip="加载新图片">
                    <ui:SymbolIcon FontSize="20" Symbol="OpenFolder" />
                </Button>
                <Button
                    Width="40"
                    Height="40"
                    Margin="0,10,0,0"
                    Padding="0"
                    ToolTip.Tip="另存为新文件">
                    <ui:SymbolIcon FontSize="20" Symbol="Save" />
                </Button>
                <Button
                    Width="40"
                    Height="40"
                    Margin="0,10,0,0"
                    Padding="0"
                    ToolTip.Tip="立即进行取模操作">
                    <ui:SymbolIcon FontSize="20" Symbol="Accept" />
                </Button>
            </StackPanel>
            <!--  空白图片  -->
            <Border
                Margin="10"
                HorizontalAlignment="Center"
                VerticalAlignment="Center"
                BoxShadow="0 0 10 2 #7F7F7F7F">
                <Viewbox>
                    <Image
                        Width="200"
                        Margin="40"
                        Opacity="0.5"
                        Source="/Assets/Images/emptyImage.png" />
                </Viewbox>
            </Border>
            <!--  后面还要放两张图片，代表原图与处理后的图片  -->
        </Grid>
        <ScrollViewer
            Grid.Row="2"
            HorizontalScrollBarVisibility="Disabled"
            VerticalScrollBarVisibility="Auto">
            <StackPanel Margin="20">
                <!--  图像裁剪  -->
                <ui:SettingsExpander
                    Margin="0,0,0,10"
                    Description="只保留需要的目标区域"
                    Header="图像裁剪"
                    IconSource="Crop">
                    <ui:SettingsExpanderItem Content="裁剪图片">
                        <ui:SettingsExpanderItem.Footer>
                            <ToggleSwitch
                                IsChecked="true"
                                OffContent="禁用"
                                OnContent="启用" />
                        </ui:SettingsExpanderItem.Footer>
                    </ui:SettingsExpanderItem>
                    <ui:SettingsExpanderItem Content="当前图片尺寸信息" Description="裁剪前的原图尺寸">
                        <ui:SettingsExpanderItem.Footer>
                            <Grid
                                Margin="0,0,20,0"
                                ColumnDefinitions="auto,auto,auto"
                                RowDefinitions="*,*">
                                <TextBlock
                                    Grid.Row="0"
                                    Grid.Column="0"
                                    Margin="0,0,5,0"
                                    HorizontalAlignment="Right"
                                    Text="宽度" />
                                <TextBlock
                                    Grid.Row="0"
                                    Grid.Column="1"
                                    Text="114" />
                                <TextBlock
                                    Grid.Row="0"
                                    Grid.Column="2"
                                    Text="px" />
                                <TextBlock
                                    Grid.Row="1"
                                    Grid.Column="0"
                                    Margin="0,0,5,0"
                                    HorizontalAlignment="Right"
                                    Text="高度" />
                                <TextBlock
                                    Grid.Row="1"
                                    Grid.Column="1"
                                    Text="514" />
                                <TextBlock
                                    Grid.Row="1"
                                    Grid.Column="2"
                                    Text="px" />
                            </Grid>
                        </ui:SettingsExpanderItem.Footer>
                    </ui:SettingsExpanderItem>
                    <ui:SettingsExpanderItem Content="裁剪区域左上角坐标 (x,y)">
                        <ui:SettingsExpanderItem.Footer>
                            <StackPanel Orientation="Horizontal">
                                <TextBox MinWidth="80" Text="0" />
                                <TextBox MinWidth="80" Text="0" />
                            </StackPanel>
                        </ui:SettingsExpanderItem.Footer>
                    </ui:SettingsExpanderItem>
                    <ui:SettingsExpanderItem Content="裁剪区域右下角坐标 (x,y)">
                        <ui:SettingsExpanderItem.Footer>
                            <StackPanel Orientation="Horizontal">
                                <TextBox MinWidth="80" Text="100" />
                                <TextBox MinWidth="80" Text="100" />
                            </StackPanel>
                        </ui:SettingsExpanderItem.Footer>
                    </ui:SettingsExpanderItem>
                </ui:SettingsExpander>
                <!--  二值化处理  -->
                <ui:SettingsExpander
                    Margin="0,0,0,10"
                    Description="仅使用黑、白两种颜色"
                    Header="二值化处理"
                    IconSource="CalendarMonthFilled">
                    <ui:SettingsExpanderItem Content="图片二值化处理">
                        <ui:SettingsExpanderItem.Footer>
                            <ToggleSwitch
                                IsChecked="true"
                                OffContent="禁用"
                                OnContent="启用" />
                        </ui:SettingsExpanderItem.Footer>
                    </ui:SettingsExpanderItem>
                    <ui:SettingsExpanderItem Content="阈值">
                        <ui:SettingsExpanderItem.Footer>
                            <Slider
                                Width="200"
                                Maximum="255"
                                Minimum="0"
                                Value="50" />
                        </ui:SettingsExpanderItem.Footer>
                    </ui:SettingsExpanderItem>
                    <ui:SettingsExpanderItem Content="反转颜色">
                        <ui:SettingsExpanderItem.Footer>
                            <ToggleSwitch
                                IsChecked="true"
                                OffContent="禁用"
                                OnContent="启用" />
                        </ui:SettingsExpanderItem.Footer>
                    </ui:SettingsExpanderItem>
                </ui:SettingsExpander>

            </StackPanel>
        </ScrollViewer>
    </Grid>
</UserControl>
